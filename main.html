<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Welcome</title>
    <link rel="icon" type="image/x-icon" href="images/xpIcons/ico/My Computer.ico">
    <meta charset="UTF-8" />

    <link rel="stylesheet" href="https://unpkg.com/xp.css" />
    <link rel="stylesheet" href="style.css" />

  </head>
  <img class="scanLine" src="images/scanlines.png">
  <body>
    
  <!---------------------🖥️🖥️🖥️🖥️🖥️MY COMPUTER🖥️🖥️🖥️🖥️🖥️--------------------->
  <!-- Image that opens window when double-clicked -->
  <img id="ComputerImageElement" src="images/xpIcons/Computer.png" style="cursor:pointer"> 
  <div class="appText" id="computerText"><p>My Computer</p></div>
  <!-- Draggable window -->
  <div class="window" draggable="true" id="ComputerDiv">
    <div class="title-bar">
      <div class="title-bar-text">About This PC</div>
      <div class="title-bar-controls">
        <!-- Minimize button -->
        <button id="minimizeButton" aria-label="Minimize"></button>
        <!-- Maximize button -->
        <button id="maximizeButton" aria-label="Maximize"></button>
        <!-- Close button -->
        <button id="closeButton" aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      <audio id="audio" src="Startup.mp3"></audio>
      <p>Things to add later:</p>
            <ul>
                <li>PC specs?</li>
                <li>Minesweeper?</li>
                <li>Solitare?</li>
                <li>Nortan Antivirus?</li>
            </ul>
          <a href="https://linktr.ee/matteogeraldo05" target="_blank">matteogeraldo05</a>
          <br>
              </div>
              <div class="status-bar">
                <p class="status-bar-field">Press F1 for help</p>
                <p class="status-bar-field">Slide 1</p>
                <p class="status-bar-field">CPU Usage: 14%</p>
              </div>
    </div>

    <script>
      const computerImageElement = document.getElementById("ComputerImageElement");
      const windowElement = document.querySelector("#ComputerDiv")
      const closeButton = document.getElementById("closeButton");
      const minimizeButton = document.getElementById("minimizeButton");
      const maximizeButton = document.getElementById("maximizeButton");
      const musica = document.getElementById("audio");

      computerImageElement.addEventListener("dblclick", function() {
        windowElement.style.display = "block";
        audio.play();
      });

      closeButton.addEventListener("click", function() {
        windowElement.style.display = "none";
      });

      minimizeButton.addEventListener("click", function() {
        windowElement.style.display = "none";
      });

      maximizeButton.addEventListener("click", function() {
        windowElement.style.display = "block";
        windowElement.style.position = "fixed";
        windowElement.style.top = "50%";
        windowElement.style.left = "50%";
        windowElement.style.transform = "translate(-50%, -50%)";
        windowElement.style.width = "100%";
        windowElement.style.height = "100%";
      });

      // Make the DIV element draggable:
      dragElement(document.getElementById("ComputerDiv"));
  
      function dragElement(elmnt) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
        if (document.getElementById(elmnt.id + "header")) {
          // if present, the header is where you move the DIV from:
          document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
        } else {
          // otherwise, move the DIV from anywhere inside the DIV:
          elmnt.onmousedown = dragMouseDown;
        }
  
        function dragMouseDown(e) {
          e = e || window.event;
          e.preventDefault();
          // get the mouse cursor position at startup:
          pos3 = e.clientX;
          pos4 = e.clientY;
          document.onmouseup = closeDragElement;
          // call a function whenever the cursor moves:
          document.onmousemove = elementDrag;
        }
  
        function elementDrag(e) {
          e = e || window.event;
          e.preventDefault();
          // calculate the new cursor position:
          pos1 = pos3 - e.clientX;
          pos2 = pos4 - e.clientY;
          pos3 = e.clientX;
          pos4 = e.clientY;
          // set the element's new position:
          elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
          elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        }
  
        function closeDragElement() {
          // stop moving when mouse button is released:
          document.onmouseup = null;
          document.onmousemove = null;
        }
      }
  </script>

  <!---------------------📸📸📸📸📸MY Camera📸📸📸📸📸--------------------->
  <!-- Image that opens window when double-clicked, webcam is in window -->
  <img id="CameraImageElement" src="images/xpIcons/Camera.png" style="cursor:pointer"> 
  <div class="appText" id="CameraText"><p>Camera</p></div>
  <!-- Draggable window -->
  <div class="window" draggable="true" id="CameraDiv">
    <div class="title-bar">
      <div class="title-bar-text">Webcam</div>
      <div class="title-bar-controls">
        <!-- Minimize button -->
        <button id="minimizeButton2" aria-label="Minimize"></button>
        <!-- Maximize button -->
        <button id="maximizeButton2" aria-label="Maximize"></button>
        <!-- Close button -->
        <button id="closeButton2" aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      <div id="webcamContainer">
        <video id="webcam" autoplay></video>
      </div>
      <button id="screenshotButton">Snap!</button>
      <div id="screenshotContainer"></div>
    </div>
  </div>

    <script>
      const CameraImageElement = document.getElementById("CameraImageElement");
      const windowElement2 = document.querySelector("#CameraDiv")
      const closeButton2 = document.getElementById("closeButton2");
      const minimizeButton2 = document.getElementById("minimizeButton2");
      const maximizeButton2 = document.getElementById("maximizeButton2");

      CameraImageElement.addEventListener("dblclick", function() {
        windowElement2.style.display = "block";
      });

      closeButton2.addEventListener("click", function() {
        windowElement2.style.display = "none";
      });

      minimizeButton2.addEventListener("click", function() {
        windowElement.style.display = "none";
      });

      maximizeButton2.addEventListener("click", function() {
        windowElement2.style.display = "block";
        windowElement2.style.position = "fixed";
        windowElement2.style.top = "50%";
        windowElement2.style.left = "50%";
        windowElement2.style.transform = "translate(-50%, -50%)";
        windowElement2.style.width = "100%";
        windowElement2.style.height = "100%";
      });

      // Make the DIV element draggable:
      dragElement(document.getElementById("CameraDiv"));
  
      function dragElement(elmnt) {
        var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
        if (document.getElementById(elmnt.id + "header")) {
          // if present, the header is where you move the DIV from:
          document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown2;
        } else {
          // otherwise, move the DIV from anywhere inside the DIV:
          elmnt.onmousedown = dragMouseDown2;
        }
  
        function dragMouseDown2(e) {
          e = e || window.event;
          e.preventDefault();
          // get the mouse cursor position at startup:
          pos3 = e.clientX;
          pos4 = e.clientY;
          document.onmouseup = closeDragElement2;
          // call a function whenever the cursor moves:
          document.onmousemove = elementDrag2;
        }
  
        function elementDrag2(e) {
          e = e || window.event;
          e.preventDefault();
          // calculate the new cursor position:
          pos1 = pos3 - e.clientX;
          pos2 = pos4 - e.clientY;
          pos3 = e.clientX;
          pos4 = e.clientY;
          // set the element's new position:
          elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
          elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        }
  
        function closeDragElement2() {
          // stop moving when mouse button is released:
          document.onmouseup = null;
          document.onmousemove = null;
        }
      }




      const webcamElement = document.getElementById("webcam");
      const screenshotButton = document.getElementById("screenshotButton");
      const screenshotContainer = document.getElementById("screenshotContainer");

      navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
        webcamElement.srcObject = stream;
      });

      screenshotButton.addEventListener("click", function() {
        const webcamHeight = webcamElement.offsetHeight;

        const screenshotCanvas = document.createElement("canvas");
        const context = screenshotCanvas.getContext("2d");

        screenshotCanvas.width = webcamElement.videoWidth;
        screenshotCanvas.height = webcamElement.videoHeight;
        context.drawImage(webcamElement, 0, 0);

        const image = document.createElement("img");
        image.src = screenshotCanvas.toDataURL("image/png");
        screenshotContainer.appendChild(image);

        // Resize the screenshots so that the total height of all three is equal to the height of the webcam
        const screenshotHeight = webcamHeight / 3;
        for (const screenshot of screenshotContainer.children) {
          screenshot.style.height = `${screenshotHeight}px`;
        }

        // Remove the oldest screenshot if there are more than 3
        if (screenshotContainer.children.length > 3) {
          screenshotContainer.removeChild(screenshotContainer.children[0]);
        }
      });


  </script>

  <!---------------------🎵🎵🎵🎵🎵MY MUSIC🎵🎵🎵🎵🎵--------------------->
  <!-- Image that opens window when double-clicked, window contains my music -->
  <img id="MusicImageElement" src="images/xpIcons/Music.png" style="cursor:pointer"> 
  <div class="appText" id="MusicText"><p>My Music</p></div>
  <!-- Draggable window -->
  <div class="window" draggable="true" id="MusicDiv">
    <div class="title-bar">
      <div class="title-bar-text">Matteo's Music Folder</div>
      <div class="title-bar-controls">
        <!-- Minimize button -->
        <button id="minimizeButton3" aria-label="Minimize"></button>
        <!-- Maximize button -->
        <button id="maximizeButton3" aria-label="Maximize"></button>
        <!-- Close button -->
        <button id="closeButton3" aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/1hTKozIKagb6fktAyMX5Ep?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      <!--<a href="https://drive.google.com/drive/u/1/folders/1Ml17vr3XkCd4XzLRETrNeYf5osTQgMzg" target="_blank" >drive link</a>-->
    </div>
  </div>

  <script>
    const MusicImageElement = document.getElementById("MusicImageElement");
    const windowElement3 = document.querySelector("#MusicDiv")
    const closeButton3 = document.getElementById("closeButton3");
    const minimizeButton3 = document.getElementById("minimizeButton3");
    const maximizeButton3 = document.getElementById("maximizeButton3");

    MusicImageElement.addEventListener("dblclick", function() {
      windowElement3.style.display = "block";
    });

    closeButton3.addEventListener("click", function() {
      windowElement3.style.display = "none";
    });

    minimizeButton3.addEventListener("click", function() {
      windowElement3.style.display = "none";
    });

    maximizeButton3.addEventListener("click", function() {
      windowElement3.style.display = "block";
      windowElement3.style.position = "fixed";
      windowElement3.style.top = "50%";
      windowElement3.style.left = "50%";
      windowElement3.style.transform = "translate(-50%, -50%)";
      windowElement3.style.width = "100%";
      windowElement3.style.height = "100%";
    });

    // Make the DIV element draggable:
    dragElement3(document.getElementById("MusicDiv"));

    function dragElement3(elmnt) {
      var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      if (document.getElementById(elmnt.id + "header")) {
        // if present, the header is where you move the DIV from:
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown3;
      } else {
        // otherwise, move the DIV from anywhere inside the DIV:
        elmnt.onmousedown = dragMouseDown3;
      }

      function dragMouseDown3(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement3;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag3;
      }

      function elementDrag3(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }

      function closeDragElement3() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }
</script>
  <!---------------------👤👤👤👤👤ACCOUNT👤👤👤👤👤--------------------->
  <img id="AccountImageElement" src="images/xpIcons/User.png" style="cursor:pointer"> 
  <div class="appText" id="AccountText"><p>Logout</p></div>
  <script>
    const accountImageElement = document.getElementById("AccountImageElement");

    accountImageElement.addEventListener("dblclick", function() {
      window.location.href = "signIn.html";
    });
  </script>

  <!---------------------💣💣💣💣💣MALWARE💣💣💣💣💣--------------------->
  <!-- Image that opens window when double-clicked, window will forever follow mouse -->
  <img id="MalwareImageElement" src="images/xpIcons/bomb.png" style="cursor:pointer"> 
  <div class="appText" id="MalwareText"><p>Virus.exe</p></div>
  <!-- Draggable window -->
  <div class="window" draggable="true" id="MalwareDiv">
    <div class="title-bar">
      <div class="title-bar-text">GET HACKED LOL!</div>
      <div class="title-bar-controls">
        <!-- Minimize button -->
        <button aria-label="Minimize"></button>
        <!-- Maximize button -->
        <button aria-label="Maximize"></button>
        <!-- Close button -->
        <button aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      TRY TO LEAVE >:D
    </div>
  </div>
  <script>
    const malwareImageElement = document.getElementById("MalwareImageElement");
    const windowElement4 = document.querySelector("#MalwareDiv");

    malwareImageElement.addEventListener("dblclick", function() {
      windowElement4.style.display = "block";
      windowElement4.style.position = "fixed";
      windowElement4.style.top = "50%";
      windowElement4.style.left = "50%";
      windowElement4.style.transform = "translate(-50%, -50%)";

      document.addEventListener("mousemove", function(event) {
        windowElement4.style.top = event.clientY + "px";
        windowElement4.style.left = event.clientX + "px";
        windowElement4.style.transform = "translate(-50%, -50%)";
      });
    });
  </script>

  <!---------------------🌍🌍🌍🌍🌍WEBSITE🌍🌍🌍🌍🌍--------------------->
  <!-- Image that opens my website when double-clicked -->
  <img id="WebsiteImageElement" src="images/xpIcons/Earth.png" style="cursor:pointer"> 
  <div class="appText" id="WebsiteText"><p>Website</p></div>
  <script>
    const websiteImageElement = document.getElementById("WebsiteImageElement");

    websiteImageElement.addEventListener("dblclick", function() {
    window.location.href = "https://www.matteogeraldo05.com/";
    });
  </script>
 
  </div>

  <!---------------------📝📝📝📝📝NOTEPAD📝📝📝📝📝--------------------->
  <!-- Image that opens window when double-clicked, window contains my music -->
  <img id="NotepadImageElement" src="images/xpIcons/Notes.png" style="cursor:pointer"> 
  <div class="appText" id="NotepadText"><p>Notepad</p></div>
  <!-- Draggable window -->
  <div class="window" draggable="true" id="NotepadDiv">
    <div class="title-bar">
      <div class="title-bar-text">Matteo's Notepad</div>
      <div class="title-bar-controls">
        <!-- Minimize button -->
        <button id="minimizeButton5" aria-label="Minimize"></button>
        <!-- Maximize button -->
        <button id="maximizeButton5" aria-label="Maximize"></button>
        <!-- Close button -->
        <button id="closeButton5" aria-label="Close"></button>
      </div>
    </div>
    <div class="window-body">
      <div id="notepad">
        <textarea id="textarea">Write stuff here then save to your computer!
(press the "`" key to start and end typing)
        </textarea>
        <button id="save-button">Save</button>
      </div>
    </div>
  </div>

  <script>
    const NotepadImageElement = document.getElementById("NotepadImageElement");
    const windowElement5 = document.querySelector("#NotepadDiv")
    const closeButton5 = document.getElementById("closeButton5");
    const minimizeButton5 = document.getElementById("minimizeButton5");
    const maximizeButton5 = document.getElementById("maximizeButton5");

    NotepadImageElement.addEventListener("dblclick", function() {
      windowElement5.style.display = "block";
    });

    closeButton5.addEventListener("click", function() {
      windowElement5.style.display = "none";
    });

    minimizeButton5.addEventListener("click", function() {
      windowElement5.style.display = "none";
    });

    maximizeButton5.addEventListener("click", function() {
      windowElement5.style.display = "block";
      windowElement5.style.position = "fixed";
      windowElement5.style.top = "50%";
      windowElement5.style.left = "50%";
      windowElement5.style.transform = "translate(-50%, -50%)";
      windowElement5.style.width = "100%";
      windowElement5.style.height = "100%";
    });

    // Make the DIV element draggable:
    dragElement5(document.getElementById("NotepadDiv"));

    function dragElement5(elmnt) {
      var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
      if (document.getElementById(elmnt.id + "header")) {
        // if present, the header is where you move the DIV from:
        document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown5;
      } else {
        // otherwise, move the DIV from anywhere inside the DIV:
        elmnt.onmousedown = dragMouseDown5;
      }

      function dragMouseDown5(e) {
        e = e || window.event;
        e.preventDefault();
        // get the mouse cursor position at startup:
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement5;
        // call a function whenever the cursor moves:
        document.onmousemove = elementDrag5;
      }

      function elementDrag5(e) {
        e = e || window.event;
        e.preventDefault();
        // calculate the new cursor position:
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        // set the element's new position:
        elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
        elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
      }

      function closeDragElement5() {
        // stop moving when mouse button is released:
        document.onmouseup = null;
        document.onmousemove = null;
      }
    }
    
    const textarea = document.getElementById('textarea');
    const saveButton = document.getElementById('save-button');

    document.addEventListener('keydown', (event) => {
      if (event.key === '`') {
        textarea.focus();
      }
    });

    saveButton.addEventListener('click', () => {
      const text = textarea.value;

      // Save the text to a file on the user's computer
      // This will trigger a download prompt in the browser
      const file = new Blob([text], { type: 'text/plain' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(file);
      a.download = 'notes.txt';
      a.click();
    });
</script>

  <!---------------------💿💿💿💿💿SCREENSAVER💿💿💿💿💿--------------------->
  <img id="ScreensaverImageElement" src="images/xpIcons/Screensaver.png" style="cursor:pointer"> 
  <div class="appText" id="ScreensaverText"><p>Screensaver</p></div>
  <script>
    const ScreensaverImageElement = document.getElementById("ScreensaverImageElement");

    ScreensaverImageElement.addEventListener("dblclick", function() {
      window.location.href = "Screensaver.html";
    });
  </script>

    <!--taskbar-->
  <div id="taskbar">
    <img src="images/taskbar.png"></img>
  </div>

<div id="clock"></div>
  <script>
  function updateClock() {
    const clock = document.getElementById('clock');
    const date = new Date();
    clock.innerHTML = date.toLocaleString();
  }
  setInterval(updateClock, 1000);
</script>


<img src="images/XPButton.png" class="start-button" id="start-button">
<div class="start-menu" id="start-menu">
  <a href="Portuguese.html">Portuguese 🇧🇷</a>
  <a href="#">WORK</a>
  <a href="#">IN</a>
  <a href="#">PROGRESS</a>
</div>

<script>
  // Get the start button and menu elements
  const startButton = document.getElementById("start-button");
  const startMenu = document.getElementById("start-menu");

  // Add an event listener for when the mouse hovers over the start button
  startButton.addEventListener("mouseenter", function() {
    startButton.src = "images/XPButtonHover.png";
  });

  // Add an event listener for when the mouse leaves the start button
  startButton.addEventListener("mouseleave", function() {
    startButton.src = "images/XPButton.png";
  });

  // Add an event listener for when the start button is clicked
  startButton.addEventListener("click", function() {
    startButton.src = "images/XPButtonClicked.png";
    startMenu.style.display = "block";
  });

  // Add an event listener for when the user clicks anywhere outside of the start menu
  window.addEventListener("click", function(event) {
    if (event.target != startMenu && event.target != startButton) {
      startButton.src = "images/XPButton.png";
      startMenu.style.display = "none";
    }
  });
</script>

</body>
</html>
